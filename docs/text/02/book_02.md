2장

깃과 소스트리
설치 및 환경 설정

깃은 별도의 응용 프로그램입니다. 이 장에서는 깃 프로그램을 설치하고 환경을 설정해 보겠습니다.

2.1 깃 설치

2.2 소스트리 설치

2.3 첫 번째 깃 실행

2.4 환경 설정

2.5 비주얼 스튜디오 코드

2.6 정리

 

깃 설치

273586.png
소스트리 설치

273629.png
QUICK GUIDE

2.1

272086.png
272134.png
깃 설치

git

 

깃을 사용하려면 먼저 깃 프로그램을 설치해야 합니다. 윈도, 리눅스, macOS 등 여러 운영 체제에서 깃을 설치하고 사용할 수 있습니다.

깃은 오픈 소스이기 때문에 공개된 소스를 직접 내려받아 설치할 수 있지만, 컴파일 작업과 설치가 쉽지 않습니다. 따라서 깃의 개발을 이끄는 단체에서는 일반 개발자도 쉽게 사용할 수 있도록 운영 체제별 설치 프로그램을 만들어 제공합니다. 깃 공식 사이트(https://git-scm.com)에서 운영 체제별로 만든 배포판을 내려받아 설치할 수 있습니다.

272083.jpg 그림 2-1 깃 공식 사이트

0201.jpg 

깃의 소스 코드는 https://github.com/git/git에 모두 공개되어 있습니다. 여기에 공개된 버전은 깃 공식 사이트에 공개된 버전보다 좀 더 최신이므로, 최신 버전을 사용하고 싶다면 깃의 소스 코드를 직접 내려받아 컴파일한 후 설치해야 합니다. 책에서는 깃 공식 사이트에서 내려받아 사용하는 것을 추천하니 참고만 하세요. 또 오픈 소스에도 직접 참여할 수 있습니다.

Note

line.jpg
line.jpg
line.jpg
272081.png
 

깃의 기본 작업 환경은 터미널 모드입니다. 리눅스나 macOS 사용자라면 콘솔창 환경에 익숙할 것입니다. 윈도 사용자라면 콘솔창을 처음 접하는 사람도 있을 수 있습니다. 과거 MS-DOS 시절에는 콘솔 명령어를 주로 사용했습니다. 하지만 윈도 그래픽 운영 체제가 널리 보급되면서 콘솔창에서 작업하는 빈도가 많이 줄었습니다. 게다가 리눅스와 윈도 계열의 콘솔 명령어는 조금 차이가 있습니다.

깃은 배시(bash) 환경을 제공합니다. 깃 배시는 윈도, 리눅스, macOS 사용자 모두 동일한 콘솔 명령어로 작업할 수 있도록 통일된 환경을 제공합니다.1 터미널 작업이란 콘솔창에서 직접 명령어를 입력하여 동작하게 하는 것입니다. 깃을 능숙하게 다루려면 다양한 깃 명령어 사용법에 익숙해져야 합니다. 그래서 콘솔창에서 작업하는 것은 명령어를 사용해야 하기에 초보자에게는 다소 어려운 부분이 있습니다. 책에서는 GUI 환경 도구인 ‘소스트리’도 함께 설명합니다.

2.1.1 윈도에서 설치

마이크로소프트의 윈도는 전 세계적으로 가장 많이 사용하는 운영 체제입니다. 윈도 운영 체제에서 깃을 설치하는 방법을 알아봅시다.

설치 파일 내려받기

깃 공식 사이트(https://git-scm.com)에 접속하여 윈도용 설치 파일을 내려받겠습니다. 웹 사이트 오른쪽 아래에 위치한 설치 파일을 클릭하여 내려받습니다. 설치 파일 내려받기가 완료되면 윈도의 다운로드 폴더에 저장됩니다.

 

272012.jpg 그림 2-2 깃 설치 파일 내려받기

0202.jpg
340247.png
340249.png
클릭

 

설치

내려받은 설치 파일을 더블클릭하여 실행합니다. 다음과 같이 깃 설치 관리자 프로그램을 실행합니다. 깃은 GNU 오픈 소스 라이선스 형태로 배포합니다. 라이선스에 동의한다면 Next를 누릅니다.

272010.jpg 그림 2-3 깃 설치 시작

0203.jpg
295421.png
 

다음은 설치 경로를 설정하는 화면입니다. 기본값은 C:\Program Files\Git이며, 책에서는 기본값으로 설치할 것입니다. 원하는 경로가 있다면 새로 입력합니다. 경로를 확인한 후 Next를 누릅니다.

272008.jpg 그림 2-4 설치 경로 확인

0204.jpg
323419.png
 

깃의 설치 프로그램에는 다양한 컴포넌트가 있습니다. 설치 과정에서 필요한 컴포넌트를 다음과 같이 선택 가능합니다. 보통 기본 설정 값을 이용하면 무난하게 설치할 수 있습니다. 책에서도 기본값을 사용하겠습니다. 확인 후 Next를 누릅니다.

272006.jpg 그림 2-5 컴포넌트 선택

0205.jpg
323445.png
 

 

윈도에서는 유사한 응용 프로그램을 몇 개 묶어서 프로그램 메뉴 목록 형태로 관리합니다. 깃 역시 관련 있는 실행 프로그램을 묶어서 등록합니다. 등록 목록의 이름을 직접 지정할 수도 있지만, ‘Git’이란 이름이 기본값으로 설정되어 있습니다. 기본값으로 두고 Next를 누릅니다.

272004.jpg 그림 2-6 목록 이름 입력

0206.jpg
323462.png
 

깃은 커밋 등 작업을 처리할 때 메시지를 입력합니다. 주석 문장을 작성하거나 편집할 때는 에디터가 필요한데 깃은 별도의 외부 에디터 프로그램을 사용합니다. 기본값으로 Vim이 선택되어 있습니다. 다른 외부 편집기를 사용하고 싶다면 직접 지정하면 됩니다. 기본값인 Vim으로 두고 Next를 누릅니다.

272002.jpg 그림 2-7 에디터 선택

0207.jpg
323479.png
 

Vim 에디터를 사용하려면 간단한 기본 조작법 정도는 알고 있으면 좋습니다.

•수정:

Esc

를 누른 후

:

+

i

•저장:

Esc

를 누른 후

:

+

w

•종료:

Esc

를 누른 후

:

+

q

Note

line.jpg
line.jpg
line.jpg
272000.png
 

다음은 깃 배시 명령어를 실행할 수 있는 경로를 설정하는 화면입니다. 기본값으로 두고 Next를 누릅니다.

271931.jpg 그림 2-8 경로 설정

0208-1.jpg
324464.png
 

● Use Git from Git Bash only: 깃 배시 터미널로만 깃을 사용할 수 있습니다. 윈도의 환경 변수를 설정하지 않습니다.
● Git from the command line and also from 3rd-party software: 기본 설정 값입니다. 윈도용 cmd 창에서도 git 명령어를 사용할 수 있습니다. 윈도의 환경 변수를 추가합니다.
● Use Git and optional Unix tools from the Command Prompt: 윈도용 cmd 창에서 git과 유닉스 도구 명령어를 사용할 경우 선택합니다. 유닉스 관련 도구 옵션을 추가합니다.
깃은 SSH 프로토콜 통신을 이용하여 서버 간 코드 이력을 전송할 수 있습니다. 다음은 SSH 프로토콜 통신과 관련된 설정을 하는 화면입니다. 기본값으로 두고 Next를 누릅니다.

 

271929.jpg 그림 2-9 SSH 설정

0209.jpg
324484.png
 

파일의 엔딩 라인(ending line)을 처리하는 방법은 운영 체제별로 약간 차이가 있습니다. 깃은 다양한 운영 체제와 엔딩 라인을 처리할 수 있도록 선택 화면을 제공합니다. 기본값으로 두고 Next를 누릅니다.

271926.jpg 그림 2-10 엔딩 라인 처리 선택

0210.jpg
324501.png
 

깃은 윈도와 유닉스 계열의 운영 체제를 모두 지원합니다. 하지만 두 운영 체제는 엔딩 라인에 각각 LF(Line Feed: 유닉스/리눅스에서 사용)와 CRLF(Carriage Return Line Feed: MS-DOS/윈도에서 사용)를 사용하는데, 이 둘은 호환되지 않습니다. 그래서 옵션을 알맞게 선택해 주어야 합니다.

Note

line.jpg
line.jpg
line.jpg
271924.png
 

다음은 터미널 에뮬레이터를 선택하는 화면입니다. 기본값으로 두고 Next를 누릅니다.

271856.jpg 그림 2-11 터미널 에뮬레이터 선택

0211.jpg
324517.png
 

다음은 추가 옵션 화면입니다. 기본값으로 두고 Install을 누릅니다.

271854.jpg 그림 2-12 그 외 옵션들

0212.jpg
324539.png
 

다음과 같이 설치를 진행합니다.

 

271852.jpg 그림 2-13 설치 진행

0213.jpg 

설치가 완료되었습니다. Finish를 누릅니다.

271850.jpg 그림 2-14 깃 설치 완료

0214.jpg
324561.png
 

설치 확인

윈도 운영 체제에 깃이 정상적으로 설치되었는지 확인해 봅시다. 윈도 버튼을 클릭하고, 프로그램 목록에서 Git을 찾습니다. 목록 폴더에 바로가기 아이콘 3개가 추가되어 있는지 확인합니다. 윈도용 깃은 리눅스와 동일한 명령어를 실행할 수 있도록 Git Bash(깃 배시)를 제공합니다. Git Bash를 선택합니다.

271848.jpg 그림 2-15 윈도 메뉴의 Git

0215.jpg
324586.png
 

Git Bash를 선택하면 다음과 같이 터미널 콘솔창을 실행합니다. 깃의 동작 명령어는 대부분 깃 배시 콘솔창에서 실행합니다.

271846.jpg 그림 2-16 깃 배시 콘솔창

0216.jpg
infoh@hojin1 MINGW64 ~

$

 

콘솔창을 실행하면 다음과 같이 명령 프롬프트가 실행됩니다.

컴퓨터이름 MINGW64 ~

$

깃 배시는 현재의 작업 디렉터리 경로를 표시합니다. 처음 깃 배시를 시작하면 경로 주소 이름이 물결(~)로 표시됩니다. ~ 기호는 현재 자신의 계정 위치를 의미합니다.

리눅스 계열의 운영 체제는 명령 프롬프트 기호로 달러($)를 사용합니다. $ 기호는 계정 아이디로 접속했을 때를 의미합니다. 관리자 root로 접속하면 # 기호로 표시됩니다.

 

2.1.2 리눅스에서 설치

리눅스는 유닉스에서 파생된 운영 체제입니다. 또 전 세계에서 가장 많이 운영하는 서버 환경입니다. 클라우드와 서버용 환경을 같이 개발한다면 리눅스용 깃 환경이 필요할 것입니다.

리눅스 운영 체제에서 깃을 설치하는 방법은 간단합니다. 대부분의 리눅스 배포판은 관련된 응용 프로그램을 패키지 형태로 제공합니다. 패키지는 리눅스 배포판마다 약간 차이가 있습니다. 리눅스 패키지 관리 도구를 이용하면 깃 공식 사이트에서 설치 파일을 내려받지 않고도 설치할 수 있습니다. 또 소스 코드를 직접 내려받아 복잡한 컴파일 작업을 하지 않아도 되므로 편리합니다.

깃을 설치하려면 먼저 자신의 리눅스 배포판과 환경을 알아야 합니다. 다음과 같이 입력하여 자신의 환경을 확인합니다.

root@hojin1:~# cat /etc/issue

Ubuntu 18.04.2 LTS \n \l

리눅스 배포판 서버에서 패키지를 내려받아 설치합니다. 예를 들어 자신의 리눅스 배포판이 페도라(Fedora), CentOS 계열이라면 yum 명령어로 깃을 설치할 수 있습니다.



$ sudo yum install git

데비안 계열의 우분투 리눅스라면 apt 명령어를 사용합니다.



$ sudo apt install git

최신 리눅스 배포판은 기본적으로 설치 패키지에 깃을 포함합니다. 따라서 별도로 설치하지 않아도 깃을 사용할 수 있습니다. 콘솔창에서 git --version 명령어로 깃이 설치되었는지 확인할 수 있습니다.

root@hojin1:~# git --version

git version 2.17.1

삭제 후 재설치

배포판에 설치된 깃이 오래된 버전이라면, 패키지를 삭제하고 다시 설치할 수도 있습니다. remove 옵션을 사용하여 기존에 설치된 깃을 제거할 수 있습니다.



root@hojin1:~# apt remove git

Reading package lists... Done

Building dependency tree

Reading state information... Done

생략...

Removing ubuntu-server (1.417.1) ...

Removing git (1:2.17.1-1ubuntu0.4) ...

설치된 깃을 삭제했다면, 새로운 깃 버전을 패키지 관리자로 설치하면 됩니다.



root@hojin1:~# apt install git

Reading package lists... Done

Building dependency tree

Reading state information... Done

생략...

Preparing to unpack .../git_1%3a2.17.1-1ubuntu0.4_amd64.deb ...

Unpacking git (1:2.17.1-1ubuntu0.4) ...

Setting up git (1:2.17.1-1ubuntu0.4) ...

앞 코드와 실행 결과가 비슷하다면 정상적으로 설치된 것입니다. 원하는 특정 버전이 있다면, 깃 공식 사이트에 접속하여 설치 파일이나 소스 코드를 내려받아 컴파일하여 설치할 수도 있습니다.

2.1.3 macOS에서 설치

최근 들어 macOS 운영 체제를 개발 환경으로 사용하는 사람이 많아졌습니다. macOS도 유닉스와 비슷한 NextStep을 기반으로 발전된 운영 체제이기 때문에 대부분의 사용법은 리눅스와 비슷합니다. 또 리눅스와 마찬가지로 최근 macOS 시스템에는 대부분 깃이 기본으로 설치되어 있습니다.

특정 버전의 깃을 설치하고 싶다면 깃 공식 사이트에 접속하여 macOS용 git 패키지를 내려받습니다. dmg 파일을 내려받은 후 dmg 파일 안에 있는 pkg 파일을 실행하면 깃이 설치됩니다.2

2.2

271773.png
271820.png
소스트리 설치

git

 

소스트리는 아틀라시안(Atlassian)에서 배포하는 GUI 깃 도구입니다. 소스트리를 사용하려면 기본적으로 깃을 컴퓨터에 설치해야 합니다. 소스트리는 깃을 GUI로 사용하는 외부 도구일 뿐입니다.

2.2.1 설치 파일 내려받기

소스트리는 공식 사이트에서 무료로 내려받을 수 있습니다. 먼저 소스트리 공식 사이트(https://www.sourcetreeapp.com)에 접속합니다. 운영 체제에 맞는 다운로드 버튼을 클릭합니다.

271769.jpg 그림 2-17 소스트리 공식 사이트

0217.jpg
324716.png
 

그림 2-18과 같은 화면이 나오면 라이선스에 동의한 후 Download를 눌러 설치 파일을 내려받습니다. 소스트리는 윈도와 macOS용 모두 제공하므로 자신의 컴퓨터 환경에 맞는 버전을 내려받으면 됩니다. 책은 윈도를 기반으로 설명합니다.

 

271767.jpg 그림 2-18 라이선스 동의

0218.jpg
324735.png
324736.png
 

2.2.2 설치

설치 파일을 내려받았다면 이제 소스트리를 설치하겠습니다. 먼저 내려받은 설치 파일을 실행합니다. 잠시 기다리면 설치 화면이 나옵니다.

271765.jpg 그림 2-19 소스트리 설치 화면

0219.jpg 

다음 화면이 나오면 Bitbucket 메뉴를 선택합니다.

271763.jpg 그림 2-20 [Bitbucket] 메뉴 선택

0220.jpg
324753.png
 

로그인 화면이 나오면 회원 가입을 하거나 로그인합니다.

271761.jpg 그림 2-21 아틀라시안 웹 사이트 로그인

0221.jpg 

소스트리를 사용하려면 아틀라시안 계정이 필요합니다. 공식 사이트에서 Sign up for an account를 클릭해서 회원 가입을 할 수 있습니다. 구글 계정 등을 연동하여 간편하게 회원 가입을 할 수도 있습니다. 이전에 가입한 계정이 있다면 로그인합니다.

Note

line.jpg
line.jpg
line.jpg
271759.png
 

정상적으로 회원 가입 및 로그인을 완료하면 등록 완료 화면으로 전환됩니다.

271689.jpg 그림 2-22 로그인 확인 중

0222.jpg 

 

271687.jpg 그림 2-23 등록 완료

0223.jpg 

소스트리를 설치할 수 있는 확인 절차가 마무리되었습니다. 다음으로 본격적인 소스트리 설치 과정을 진행합니다. 소스트리는 깃 외에 머큐리얼(Mercurial) 같은 버전 관리를 동시에 지원합니다. 깃만 사용한다면 Mercurial 체크는 해제합니다. 책에서는 Mercurial 체크를 해제한 후 다음을 누릅니다.

271684.jpg 그림 2-24 ‘Mercurial’ 체크 해제

0224.jpg
324772.png
324773.png
 

깃을 사용하려면 환경 설정을 해야 합니다. 먼저 깃으로 이력을 관리할 때 사용할 이름과 이메일주소를 설정합니다. 첫 번째 항목에는 이름(영문)을 입력하고, 두 번째 항목에는 이메일 주소를 입력합니다. 아틀라시안 계정이 기본값으로 입력되어 있으므로 그대로 사용해도 되고, 전혀 다르게 원하는 이름과 이메일 주소를 사용해도 됩니다. 모두 입력했다면 다음을 누릅니다.

깃의 환경 설정 과정에서 등록하는 이름과 이메일 주소는 아틀라시안 웹 사이트에 가입한 이름 및 이메일 주소와는 상관없습니다. 등록된 환경 설정 정보는 깃 커밋 작업을 위한 환경 정보이므로 원하는 내용으로 입력합니다.

Note

line.jpg
line.jpg
line.jpg
271682.png
 

271613.jpg 그림 2-25 환경 설정용 이름과 이메일 주소

0225.jpg
324800.png
324801.png
 

소스트리는 깃허브, 비트버킷과 연동하여 원격 저장소(서버) 작업을 같이 수행할 수 있습니다. 원격 저장소를 사용하려면 깃허브, 비트버킷에 로그인해야 합니다. 또는 SSH키를 이용하여 로그인할 수도 있습니다. 아직 아무것도 준비되어 있지 않으니 다음 화면이 나오면 일단 아니오를 눌러 넘어갑니다. 깃허브 설정 관련 내용은 5장에서 설명합니다.

271611.jpg 그림 2-26 SSH키 로그인 설정

0226.jpg
324819.png
 

그림 2-27과 같이 소스트리 설치가 완료되면 프로그램을 실행합니다. 소스트리는 비트버킷에 생성된 원격 저장소 목록을 같이 나열하여 표시합니다. 또 깃허브의 원격 저장소도 같이 사용할 수 있습니다. 그림 2-27은 샘플 화면입니다. 깃과 소스트리를 처음 설치했다면 아무 목록도 표시하지 않습니다.

271609.jpg 그림 2-27 원격 저장소 목록

0227.jpg 

이제 소스트리는 잠시 두고 터미널로 돌아가겠습니다.

2.3

271536.png
271583.png
첫 번째 깃 실행

git

 

첫 실습으로 간단한 깃 명령어를 입력해서 실행 결과를 살펴보겠습니다. 깃의 기본 사용 환경은 터미널입니다.

2.3.1 터미널

터미널 환경이란 예전의 MS-DOS 또는 셸(shell)처럼 텍스트 명령어를 입력하고 실행하는 환경을 의미합니다. 터미널을 이용하면 깃 작업을 좀 더 다양하게 할 수 있습니다. GUI는 많이 사용하는 기능 위주로 동작을 구현했기 때문에 터미널보다 정밀한 작업은 하기 어렵습니다.

2.3.2 깃 명령어로 실행

깃 프로그램 이름은 git입니다. 터미널에서 git과 명령어를 입력하면 깃이 동작합니다. 그냥 git이란 이름만 입력해도 실행됩니다. git이라고 입력해 보세요. git 명령어 사용법 및 간단히 요약된 내용을 볼 수 있습니다.

$ git

usage: git [--version] [--help] [-C <path>] [-c <name>=<value>]

[--exec-path[=<path>]] [--html-path] [--man-path] [--info-path]

[-p | --paginate | -P | --no-pager] [--no-replace-objects] [--bare]

[--git-dir=<path>] [--work-tree=<path>] [--namespace=<name>]

<command> [<args>]

 

These are common Git commands used in various situations:

 

start a working area (see also: git help tutorial)

clone Clone a repository into a new directory

init Create an empty Git repository or reinitialize an existing one

이하 생략

환경 변수에 경로 설정

git 명령어를 입력했는데도 제대로 실행되지 않았다면, 다음과 같이 윈도의 환경 변수에 경로(PATH)를 추가해 주어야 합니다. 또는 기본적으로 모든 디렉터리 경로에서 깃이 실행되도록 하고 싶을 때도 환경 변수에 경로를 설정해 줍니다.

윈도에서 제어판을 실행한 후 시스템  고급 시스템 설정을 선택하여 시스템 속성 창을 엽니다. 고급  환경 변수를 누릅니다.

Note

line.jpg
line.jpg
line.jpg
325097.png
325145.jpg 그림 2-28 환경 변수 설정

0208.jpg
325142.png
325143.png
 

 

 계속

 

시스템 변수 항목에서 Path를 더블클릭합니다.

325389.jpg 그림 2-29 Path 수정

0229.jpg
325387.png
 

환경 변수 편집 창에 C:\Program Files\Git\cmd 경로를 추가합니다.

325376.jpg 그림 2-30 C:\Program Files\Git\cmd 경로 추가

0230.jpg
325374.png
 

 

깃은 명령어 하나로만 동작하는 방법과 옵션을 같이 사용하여 동작하는 명령어로 나뉩니다. 기본적으로 깃은 독립된 명령어들로 구성되어 있습니다. 하지만 독립적인 명령어들 외에 하위 명령어들을 같이 이용하면 동작 기능을 세분화할 수 있습니다. 다음과 같이 git 다음에 명령어 또는 옵션을 지정하면 됩니다.

$ git 명령어 또는 옵션

 

 

하위 명령어 외에 추가 옵션도 같이 지정할 수 있습니다. 또 일부 옵션은 생략하기도 합니다. 옵션은 짧은 옵션(-)과 긴 옵션(- -)으로 구분합니다. 다음과 같이 help 옵션을 입력하여 전체 명령어를 확인해 보세요.

$ git help --all

이제 깃 배시를 실행하여 간단한 실습을 따라해 봅시다. 다음과 같이 git --version 명령어를 입력하고 실행해 보세요.

$ git --version

271434.jpg 그림 2-31 git - -version 명령어 실행

0231.jpg
infoh@hojin1 MINGW64 ~

$ git --version

git version 2.25.0.windows.1

 

infoh@hojin1 MINGW64 ~

$

 

설치된 깃의 버전 정보를 확인할 수 있습니다. git --version 명령어를 사용하면 버전 확인 외에도 깃이 정상적으로 동작하는지 쉽게 확인할 수 있습니다.

깃 명령어는 명령어를 여러 개 묶어서 사용할 수도 있습니다. 명령어를 묶어서 입력할 때는 세미콜론(;)으로 구분합니다. 예를 들어 다음과 같이 태그 명령어와 브랜치 명령어를 같이 묶어서 실행할 수 있습니다. 각 명령어는 뒷 장에서 설명하니 세미콜론만 보세요.

$ git tag; git branch

366624.png
366600.png
세미콜론으로 구분

0.0.1

0.0.2

footer

* master

2.3.3 소스트리로 실행

소스트리를 같이 설치했다면 바탕화면에서 소스트리 아이콘을 확인할 수 있습니다.

271432.jpg 그림 2-32 소스트리 아이콘

0232.jpg 

 

아이콘을 클릭하면 소스트리를 실행합니다. 3장부터 본격적으로 실습하므로 여기서는 간단히 몇 가지 항목만 확인할 것입니다. 실행하면 다음과 같이 위쪽에 여러 버튼이 있습니다. 여기서
+ Create 버튼을 클릭하면 새로운 깃 저장소 폴더를 만들 수 있고, Add 버튼을 클릭하면 로컬 PC에 만들어진 깃 저장소 폴더를 찾아 소스트리에 추가할 수 있습니다.

271430.jpg 그림 2-33 소스트리 첫 실행 화면

0233.jpg
325509.png
325510.png
 

그리고 다음과 같이 로컬 PC의 깃 저장소 폴더와 소스트리의 저장소를 연결하여 사용하면 됩니다.

271428.jpg 그림 2-34 깃과 소스트리가 연결된 화면

0234.jpg
340496.png
 

소스트리를 저장소에 연결하면 오른쪽 위에 터미널 0234-1.jpg 버튼이 생깁니다. 책에서는 소스트리 설치 후 아무 작업도 하지 않았기 때문에 터미널 버튼이 보이지 않습니다. 3장에서 소스트리와 연결하고 나면 터미널 버튼을 확인할 수 있습니다.

이 버튼을 클릭하면 소스트리에서 바로 깃 배시 터미널을 실행할 수 있습니다. 깃 배시가 실행될 때 현재 작업하는 저장소를 기준으로 터미널을 오픈합니다. 명령어를 입력하여 경로를 이동할 필요가 없어 편리합니다.

271426.jpg 그림 2-35 소스트리의 터미널

0235.jpg
infoh@hojin1 MINGW64 /e/gitstudy (master)

$

 

이 책에서는 초보자도 쉽게 따라 할 수 있도록 그래픽 GUI인 소스트리도 함께 이용하여 설명합니다. 하지만 깃 사용법에 좀 더 익숙해지면 다른 툴이나 터미널에서도 손쉽게 작업할 수 있을 것입니다. 또 터미널은 다른 GUI들이 지원하지 않는 더 많은 기능도 지원합니다.

2.4

271354.png
271401.png
환경 설정

git

 

지금까지는 다양한 환경에서 깃을 설치하는 방법을 알아보았습니다. 깃을 설치했다면 여러 가지 환경 설정도 해야 합니다. 사용자 이름과 이메일 주소는 필수 항목이고, 그 외 나머지 항목은 옵션이므로 추가 항목은 가볍게 살펴봅니다.

 

2.4.1 config 명령어

깃은 환경 설정을 위해 별도로 config 명령어를 제공합니다. config 명령어는 환경 설정 파일을 직접 수정하지 않고도 환경 설정을 쉽게 할 수 있게 도와줍니다.

$ git config 설정값

 

config 명령어를 처음 실행하면 새로운 config 파일을 생성합니다. 이전에 설정한 환경 파일이 있다면 기존 파일을 수정합니다.

다음 명령어처럼 기존에 설정된 환경 파일을 삭제할 수도 있습니다. --unset 옵션을 사용합니다.

$ git config --unset 이메일주소

 

config 명령어 역시 옵션을 사용할 수 있으며, -help 명령어로 확인 가능합니다.

$ git config -help

Note

line.jpg
line.jpg
line.jpg
271303.png
 

2.4.2 로컬 사용자

깃은 여러 사람과 함께 개발할 수 있는 협업 도구입니다. 프로젝트 하나를 다수의 개발자와 함께 작업할 때를 대비하여 각 개발자를 구분해야 합니다. 따라서 깃은 각 개발자의 작업을 구분하려고 사용자를 등록하는 과정을 거칩니다. 로컬 저장소에서 사용자 등록은 별도의 웹 사이트에서 회원 가입을 하는 것이 아니라, 소스 코드의 변경 내역을 기록할 때 구분할 수 있는 사용자 설정 값만 등록하면 됩니다. 사용자 등록은 최초로 깃을 사용하거나 커밋할 때 한 번만 합니다.

사용자 등록은 크게 두 가지로 구분합니다. 선택한 로컬(local) 저장소에만 적용되는 로컬 사용자 설정 값과 모든 로컬 저장소에 공통으로 적용되는 글로벌 사용자 설정 값입니다. 깃에서는 사용자를 구분하려고 ‘사용자 이름’과 ‘이메일 주소’를 사용하며, config 명령어로 환경 설정 파일에 등록합니다.

 

로컬 저장소에서는 다음 형태로 사용자를 등록합니다. 이때 사용자 이름과 이메일 주소는 한글로 입력하면 오류가 발생하므로 영문으로 작성해야 합니다. 이메일 주소는 주로 사용하는 이메일 주소를 입력합니다.

$ cd 저장소 폴더

323147.png
깃 저장소 폴더

$ git config user.name "사용자이름"

$ git config user.email "이메일주소"

 

깃에서 사용자를 구분하는 데 쓰는 ‘사용자 이름’과 ‘이메일 주소’ 중 이메일 주소는 깃이 개발자를 구별하는 고유의 키 값으로 사용합니다. 자신의 저장소를 외부로 공개하면 등록한 이메일 주소도 외부에 공개되므로, 공개해도 무관한 이메일 주소를 사용하길 권장합니다.

2.4.3 글로벌 사용자(추천)

로컬 사용자 등록은 로컬 저장소를 생성할 때마다 설정해야 합니다. 또 저장소마다 다르게 설정할 수 있습니다. 하지만 저장소를 생성할 때마다 사용자 등록을 하는 것은 불편합니다.

혼자서 사용하는 컴퓨터라면 글로벌(공통된) 사용자 등록을 하는 것이 편리합니다. 글로벌 사용자 등록을 할 때는 다음과 같이 --global 옵션을 함께 사용합니다. 설정된 모든 값은 글로벌(global)(전역) 영역에 설정됩니다. 책에서는 글로벌 사용자 등록을 할 것입니다.

$ git config --global user.name "사용자이름"

$ git config --global user.email "이메일주소"

 

그럼 다음과 같이 직접 설정해 봅시다. 필자는 사용자 이름은 ‘hojinlee’로 설정하고, 이메일 주소는 ‘infohojin@naver.com’으로 설정했습니다. 여러분도 원하는 값으로 직접 설정해 보세요. 이 값들은 나중에 소스트리와 연동할 때도 필요하므로 잘 기록해 두세요.

$ git config --global user.name "hojinlee"

322756.png
자신의 영문 이름(아무것이나 원하는 이름으로 입력)

$ git config --global user.email "infohojin@naver.com"

322786.png
자신의 이메일 주소(공개해도 괜찮은 주로 사용하는 이메일 주소 입력)

자동으로 글로벌 사용자 등록을 적용하려면 생성된 저장소에서 별도로 로컬 사용자 등록을 하지 않아야 합니다.

Note

line.jpg
line.jpg
line.jpg
271185.png
 

2.4.4 환경 설정 파일 확인 및 직접 수정

앞에서 config 명령어를 사용하여 간단히 사용자 등록을 했습니다. config 명령어로 만든 환경 설정 파일은 깃 저장소 안에 .git/config 파일 형태로 저장되어 있습니다. 이 환경 설정 파일을 찾아 config 명령어로 등록한 내용이 제대로 적용되었는지 확인해 봅시다.

먼저 환경 설정 파일이 어디에 있는지 찾아야겠죠? 일반적으로 다음 과정을 거칠 것입니다. 먼저 로컬 저장소를 생성하고, 해당 저장소로 이동하여 (로컬) 사용자 등록을 한 후 설정 파일을 찾습니다.



$ mkdir gitstudy02

322817.png
gitstudy02 폴더 만들기

$ cd gitstudy02

322847.png
만든 gitstudy02 폴더로 이동

 

infoh@hojin1 MINGW64 /e/gitstudy02

$ git init

322880.png
깃 초기화

Initialized empty Git repository in E:/gitstudy02/.git/

 

infoh@hojin1 MINGW64 /e/gitstudy02 (master)

$ git config user.name "hojinlee"

322911.png
로컬 사용자 이름 입력

$ git config user.email "infohojin@naver.com"

322980.png
로컬 이메일 주소 입력

 

infoh@hojin1 MINGW64 /e/gitstudy02 (master)

$ ls .git

323010.png
깃 목록 보기

config description FETCH_HEAD HEAD hooks info objects refs

해당 위치로 이동하여 간단히 다음 명령어를 실행하면 환경 설정 파일이 있는지 확인할 수 있습니다.

$ ls .git

 

.git/config 파일은 로컬 저장소에서 직접 로컬 사용자 등록을 할 때만 찾을 수 있습니다. 글로벌 사용자 등록을 했다면 저장소에 .git/config 파일은 존재하지 않습니다. 그 대신 개인 계정 루트에 파일을 생성하므로 다음 명령어를 실행합니다.

$ ls ~/.gitconfig

323117.png
.gitconfig 폴더의 경로 보기

 

컴퓨터에 글로벌 환경 설정 파일과 로컬 환경 설정 파일이 모두 있을 때도 있습니다. 이때는 로컬 환경 설정 파일의 내용을 우선 적용합니다.

환경 설정 파일을 찾았다면 간단히 cat 명령어로 내용을 확인할 수 있습니다.



$ cat .git/config

[core]

repositoryformatversion = 0

filemode = false

bare = false

logallrefupdates = true

symlinks = false

ignorecase = true

[user]

name = hojinlee

email = infohojin@naver.com

환경 설정 파일을 직접 열어 수정하고 싶다면 다음 명령어를 실행합니다. VS Code 편집기를 사용합니다.



$ code .git/config

하지만 환경 설정 파일을 직접 수정하면 철자 오류 등 여러 가지 이유 때문에 정상적으로 동작하지 않을 수도 있으니, 가능하면 config 명령어를 사용하길 권장합니다.

깃 상태를 컬러로 보기

깃 전용 터미널(배시)에서 다음 옵션을 설정하면 깃 상태를 컬러로 볼 수 있습니다. 다음 명령어를 사용하면 전역으로 설정됩니다.

$ git config --global color.ui auto

Note

line.jpg
line.jpg
line.jpg
271068.png
 

 

2.4.5 소스트리의 환경 설정

소스트리에서도 환경 설정을 할 수 있습니다. GUI 환경이라 좀 더 편리합니다. 소스트리를 실행한 후 도구  옵션 메뉴를 선택하면 다음과 같이 환경 설정 화면이 나옵니다. 여기서 이름과 이메일 주소 항목은 필수입니다. 일반적으로 소스트리를 설치할 때 입력했던 사용자 이름과 이메일 주소가 자동으로 입력되어 있습니다. 필자는 이름은 hojinlee로, 이메일 주소는 infohojin@gmail.com으로 입력했기 때문에 해당 값이 자동으로 입력되어 있습니다.

270997.jpg 그림 2-36 소스트리 환경 설정

0236.jpg
325642.png
 

2.4.6 별칭

좀 더 고급 환경 설정으로 별칭을 사용할 수 있습니다. 별칭은 복잡한 깃 명령어를 단순하게 닉네임 형태로 등록해 두는 기능입니다. 예를 들어 다음과 같이 log --graph --pretty=oneline 명령어를 show-graph라는 별칭으로 등록해 두면 이후로는 이 별칭을 사용할 수 있습니다.



$ git config -global alias.show-graph 'log --graph --pretty=oneline'

2.5

270924.png
270972.png
비주얼 스튜디오 코드

git

 

깃에서 실습하다 보면 코드를 작성해야 할 때가 있습니다. 코드를 작성하려면 코드 편집기가 필요합니다. 책에서는 코드 편집용 툴로 비주얼 스튜디오 코드(VS Code, Visual Studio Code)를 사용합니다. VS Code는 무료로 내려받아 설치할 수 있습니다. 또는 자신에게 익숙한 다른 편집기를 사용해도 됩니다.

VS Code는 다음과 같이 터미널에서 명령어로 쉽게 실행할 수 있습니다.

$ code 파일이름

 

2.6

270827.png
270874.png
정리

git

 

지금까지 깃의 기본적인 설치 방법과 환경 설정을 알아보았습니다. 모든 학습이 그렇듯이 처음에 프로그램을 설치하고 환경 설정을 하는 데 많은 시간이 소요됩니다. 책 내용을 천천히 따라가면서 자신만의 개발 환경을 설정하세요. 다음 장부터는 깃의 개념과 사용법을 하나씩 알아보겠습니다.

 

1 윈도용 깃을 설치하면 cygwin이라는 리눅스 환경과 유사한 콘솔창도 제공합니다.

2 자세한 macOS 설치 방법은 이 책의 학습 사이트(https://git.jiny.dev)를 참고해 주세요.

 
